До
Отправка нотификаций о доп вопросах - логический дизайн довольно простой
- В первый раз когда только получили доп вопросы, уведомляем пушами в веб или мобильное приложение
- Если пользователь еще не ответил на доп вопросы, посылаем ему Email и Sms каждый час;

Как в итоге сделано было
- Если в сообщении есть id повторного уведомления или флаг, то надо послать Email и Sms 
- Если уведомление не повторное, то пытаемся сделать следующее (то есть в первый раз когда только получили доп вопросы)
  - Шлем веб сокет
  - если пользователь не онлайн в веб приложении и в сообщении указано о нотификации на мобильное приложение, и если пользователь онлайн то шлется мобильный пуш
  - затем в сообщении дописывается ReminderId, чтобы уведомить чуть позже и повторно
  
Тяжело в такой код вникать и изменять тем более


После 

также просто отправляем событие AdditionalQuestionsNotificationMessageHandler
делаем, чтобы дизайн следовал напрямую из кода
1) указываем что всегда сначала шлем push в сокет и мобилки - через отдельный интерфейс
2) вызываем сервис проверки не отвеченных доп вопросов 
- который уже каждый час проверяет есть ли не отвеченные доп вопросы
- если не отвечены то посылает напоминающий reminder (sms, email) 

