1) Дата рождения водителя
Предусловие - дата в формате ДД.ММ.ГГГГ
Постусловие - дата рождения в формате DateTime создана  
 
Меняем на 

Предусловие - не завязываемся на формат ДД.ММ.ГГГГ 
(можно передавать нужный формат заранее или пытаться определить автоматически)

Постусловие - дата рождения в формате DateTime создана и возраст должен быть от 18 до 120 лет (120 спорно конечно, но все же).

Усложнили реализацию, но расширили возможные кейсы использования.

2) Вычисляем позицию - представление физ.лица для договора
Предусловие - фамилия, имя, отчество существует
Постусловие - строка сгенерирована 

Меняем на

Предусловие - хотя бы одна из строк фамилия, имя, отчество существует.
Постусловие - при наличии фамилии, она должна быть в результате, при наличии имени, первый символ должен быть в результате
при наличии отчетства, первый символ должен быть в результате.

Упростили реализацию.


3) Создание водителя
Предусловие - водитель с такой серией и номером не существует и серия/номер валидны
Постусловие - водитель успешно создан

Меняем на

Предусловие - серия/номер валидны
Постусловие - переносим в базу проверку уникальности серии и номера и обрабатываем исключение о вставке неуникального значения

Упростили реализацию и вероятные ошибки конкурентного доступа.

4) Получение вебхука от провайдера верификации
Предусловие - проверка подписи пройдена и вебхук десериализован
Постусловие - сообщение о конкретном вебхуке отправлено

Меняем на

Предусловие - вебхук десериализован
Постусловие - отправлено сообщение о добавлении данного клиента в блоклист при несовпадении подписи + нотификации в security. 

Усложнили реализацию, но дали секьюрити возможность мониторинга таких клиентов.

5) Инициализация датапоинта для коллекции данных

Предусловие - датапоинт еще не завершен и найден
Постусловие - датапоинт инициализирован (данные записаны в колонку datainitjson)

Меняем на

Предусловие - датапоинт найден
Постусловие - датапоинт инициализирован (данные записаны в колонку datainitjson), + если датапоинт завершен, данные нельзя редактировать.

Усложнили реализацию, но дали возможность юзеру видеть последние изменения по датапоинтам (которые могут меняться). 

Итого - достаточно тяжело было подобрать адекватные примеры. 
Но все же, ослабление предусловия и усиление предусловия - может упростить реализацию и надежность полученного решения.
При этом заранее продуманные предусловия/постусловия сильно уменьшают вероятность потенциальных ошибок в будущем, 
позволяют лучше понять "клиентов", которые используют код или решение - в целом делают систему надежной.



 



