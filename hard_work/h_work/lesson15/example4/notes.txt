До - во флоу машине перехода на следующий шаг было место, проверки является ли следующий шаг равным текущему

После - типизировал текущий и следующий шаги и при совпадении кидаю на дефолтный шаг.

по хорошему, нужно исключать циклы на уровне флоу машины, 
но разработчики могут ошибиться и не проверить как оно работает.

(P.S это для старой флоу машины
на новой флой машине, которую я реализовал, такой проблемы нет, т.к. она не позволяет создавать циклы на уровне библиотеки)


